<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Service Injection - Blade & Frontend - Laravel 12</title>
    <link rel="stylesheet" href="../../../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="../../../script.js" defer></script>
</head>
<body>
<div class="top-bar"><div class="top-bar-content"><div class="nav-group"><a href="../module8/m8-7.html">« Routing & Controllers</a><a href="../module10/m10-1.html">Validatie & Forms »</a></div><div class="nav-group theme-switcher"><select id="theme-switcher"><option value="blue">Blauw</option></select></div></div></div>

<div class="container">
    <div class="header-nav-block">
        <header>
            <h1>Blade & Frontend</h1>
            <p>De presentatielaag: Layouts, Components en slimme directives.</p>
        </header>
        <nav>
            <ul>
                <li><a href="m9-1.html">Layout Inheritance</a></li>
                <li><a href="m9-2.html">Components & Slots</a></li>
                <li><a href="m9-3.html">Stacks & Push</a></li>
                <li><a href="m9-4.html">Control Structures</a></li>
                <li><a href="m9-5.html">Auth Directives</a></li>
                <li><a href="m9-6.html" class="active">Service Injection</a></li>
                <li><a href="m9-7.html">Tailwind Utility Patterns</a></li>
                <li><a href="m9-8.html">Pagination</a></li>
                <li><a href="m9-9.html">Flash Messages</a></li>
                <li><a href="m9-10.html">Livewire</a></li>
                <li><a href="m9-11.html">Flux UI</a></li>
            </ul>
        </nav>
    </div>

    <main>
        <h2>Service Injection (@inject)</h2>
        <p>Normaal gesproken geef je data vanuit de Controller door aan de View. Maar soms heb je data nodig die op <em>elke</em> pagina aanwezig moet zijn (zoals een winkelwagen-teller in de header) of data die niet direct gerelateerd is aan de hoofdtaak van de controller.</p>
        <p>In plaats van elke controller aan te passen, kun je een Service direct in de View injecteren.</p>

        <h3>1. De Service Maken</h3>
        <p>Stel we hebben een class die statistieken berekent.</p>

        <div class="note-box">Bestand: <code>app/Services/StatsService.php</code></div>
        <pre><code class="language-php">
namespace App\Services;

use App\Models\User;

class StatsService
{
    public function userCount(): int
    {
        return User::count();
    }
}
        </code></pre>

        <h3>2. Injecteren in Blade</h3>
        <p>Gebruik <code>@inject</code>. Het eerste argument is de variabelenaam die je in de view wilt gebruiken, het tweede is de class die je wilt laden.</p>

        <div class="note-box">Bestand: <code>resources/views/layouts/app.blade.php</code></div>
        <pre><code class="language-html">
{{-- Injecteer de service en noem hem $stats --}}
@inject('stats', 'App\Services\StatsService')

&lt;div class="footer"&gt;
    &lt;p&gt;Totaal aantal gebruikers: {{ $stats->userCount() }}&lt;/p&gt;
&lt;/div&gt;
        </code></pre>

        <h3>Wanneer gebruiken?</h3>
        <ul>
            <li><strong>Wel doen:</strong> Voor globale data (navigatie, footers, widgets) die losstaat van de specifieke pagina-inhoud.</li>
            <li><strong>Niet doen:</strong> Voor de hoofd-data van de pagina (bijv. het product op een product-detail pagina). Dat hoort gewoon via de Controller te gaan.</li>
        </ul>
    </main>
</div>
<footer><div class="footer-content"><p>&copy; 2025 Techniek College Rotterdam</p></div></footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>