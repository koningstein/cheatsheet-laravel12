<!DOCTYPE html>
<html lang="nl" data-theme="light" data-color="red">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Factory & Seeding - Laravel 12 Module 1</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../style.css">
</head>
<body>

<header>
    <a href="../../index.html" class="logo">
        <svg width="30" height="30" viewBox="0 0 100 100" fill="currentColor"><path d="M50 0L10 20L10 80L50 100L90 80L90 20L50 0Z"/></svg>
        Laravel 12
    </a>
    <div class="header-controls">
        <button class="btn-control" id="color-toggle">ðŸŽ¨ Kleur</button>
        <button class="btn-control" id="theme-toggle">ðŸŒ“ Thema</button>
        <button class="mobile-menu-btn" id="menu-toggle">â˜°</button>
    </div>
</header>

<div class="layout-wrapper">
    <nav class="sidebar-left">

        <div class="nav-group">
            <h3>Cursus Modules</h3>

            <div class="nav-item-container">
                <button class="nav-toggle">
                    Module 1: Basis CRUD
                    <svg class="chevron" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <ul class="submenu" style="display:block;">
                    <li><a href="m1-1.html">Model & Migration</a></li>
                    <li><a href="m1-2.html" class="current">Factory & Seeding</a></li>
                    <li><a href="m1-3.html">Layouts & Tailwind</a></li>
                    <li><a href="m1-4.html">Controller Index</a></li>
                    <li><a href="m1-5.html">Create & Store</a></li>
                    <li><a href="m1-6.html">Validatie & Flash</a></li>
                    <li><a href="m1-7.html">Detailpagina (Show)</a></li>
                    <li><a href="m1-8.html">Edit & Update</a></li>
                    <li><a href="m1-9.html">Delete & Destroy</a></li>
                </ul>
            </div>

            <div class="nav-item-container">
                <button class="nav-toggle">
                    Module 2: Users & Security
                    <svg class="chevron" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <ul class="submenu">
                    <li><a href="../module2/m2-1.html">Publieke Layout</a></li>
                    <li><a href="../module2/m2-2.html">Simpele Publieke Pagina</a></li>
                    <li><a href="../module2/m2-3.html">Roles & Permissions</a></li>
                    <li><a href="../module2/m2-4.html">Aanmaken van Users</a></li>
                    <li><a href="../module2/m2-5.html">Middleware bij Routes</a></li>
                    <li><a href="../module2/m2-6.html">Rolgebaseerde Toegang</a></li>
                </ul>
            </div>

            <div class="nav-item-container">
                <button class="nav-toggle">
                    Module 3: Advanced Admin
                    <svg class="chevron" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <ul class="submenu">
                    <li><a href="../module3/m3-1.html">Models & Migrations</a></li>
                    <li><a href="../module3/m3-2.html">Factories met Relaties</a></li>
                    <li><a href="../module3/m3-3.html">Seeders met Relaties</a></li>
                    <li><a href="../module3/m3-4.html">Index & Eager Loading</a></li>
                    <li><a href="../module3/m3-5.html">Permissions</a></li>
                    <li><a href="../module3/m3-6.html">Create & Dropdowns</a></li>
                    <li><a href="../module3/m3-7.html">Store & Validatie</a></li>
                    <li><a href="../module3/m3-8.html">Show & Relaties</a></li>
                    <li><a href="../module3/m3-9.html">Edit & Pre-select</a></li>
                    <li><a href="../module3/m3-10.html">Update & Logica</a></li>
                    <li><a href="../module3/m3-11.html">Delete View</a></li>
                    <li><a href="../module3/m3-12.html">Destroy & Constraints</a></li>
                </ul>
            </div>

            <div class="nav-item-container">
                <button class="nav-toggle">
                    Module 4: Webshop Features
                    <svg class="chevron" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <ul class="submenu">
                    <li><a href="../module4/m4-1.html">Publieke Productpagina</a></li>
                    <li><a href="../module4/m4-2.html">De Product Show</a></li>
                    <li><a href="../module4/m4-3.html">Reviews Setup (DB)</a></li>
                    <li><a href="../module4/m4-4.html">Reviews Tonen</a></li>
                    <li><a href="../module4/m4-5.html">Reviews Plaatsen</a></li>
                    <li><a href="../module4/m4-6.html">Winkelwagen Setup</a></li>
                    <li><a href="../module4/m4-7.html">Winkelwagen Tonen</a></li>
                    <li><a href="../module4/m4-8.html">Winkelwagen Wijzigen</a></li>
                </ul>
            </div>

            <div class="nav-item-container">
                <button class="nav-toggle">
                    Module 5: Orders & Validatie
                    <svg class="chevron" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                </button>
                <ul class="submenu">
                    <li><a href="../module5/m5-1.html">Orders Structuur</a></li>
                    <li><a href="../module5/m5-2.html">Order Seeds</a></li>
                    <li><a href="../module5/m5-3.html">Orders Opslaan</a></li>
                    <li><a href="../module5/m5-4.html">Orders Tonen</a></li>
                    <li><a href="../module5/m5-5.html">Order naar PDF</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <h1>Factory & Seed</h1>
        <p>Om efficiÃ«nt te ontwikkelen en te testen, heb je data nodig in je database. Laravel biedt krachtige tools om dummy-data te genereren (Factories) en de database hiermee te vullen (Seeders).</p>

        <h3 id="concept">Het Concept</h3>
        <p>We maken gebruik van drie onderdelen, ieder met een eigen rol:</p>
        <ul>
            <li><strong>Factory:</strong> Bepaalt de structuur van 1 rij (record) en genereert de data.</li>
            <li><strong>Faker:</strong> Een bibliotheek (standaard in Laravel) om realistische nepdata te genereren (namen, steden, datums).</li>
            <li><strong>Seeder:</strong> Bepaalt hoeveel rijen er gemaakt moeten worden en voert de factories uit.</li>
        </ul>

        <div style="background: var(--primary-light, #fef2f2); padding: 1.5rem; border-radius: 0.5rem; border-left: 4px solid #ef3b2d; color: var(--text-main, #1e293b); margin-bottom: 1.5rem;">
            <strong>Design Patterns:</strong>
            <ul style="margin-top: 0.5rem; margin-bottom: 0;">
                <li><strong>Factory Pattern:</strong> Elke factory is verantwoordelijk voor Ã©Ã©n model type.</li>
                <li><strong>Command Pattern:</strong> Seeders zijn uitvoerbare commando's met Ã©Ã©n specifieke taak.</li>
            </ul>
        </div>

        <h2 id="factory">Factory Aanmaken</h2>
        <p>We maken een factory aan voor de <code>Category</code> model. Door de conventie te volgen (Modelnaam + Factory), koppelt Laravel ze automatisch.</p>

        <pre><code class="language-bash">php artisan make:factory CategoryFactory</code></pre>

        <p>Dit bestand komt in <code>database/factories/CategoryFactory.php</code>. Hierin definiÃ«ren we hoe een "standaard" categorie eruit ziet.</p>

        <h3 id="faker">Faker & Providers</h3>
        <p>Voor dit project (een webshop met auto's) gebruiken we een extra package voor realistische auto-data:</p>
        <pre><code class="language-bash">composer require pelmered/fake-car --dev</code></pre>

        <p>In de <code>definition()</code> methode gebruiken we <code>$this->faker</code>. We voegen de auto-provider toe en zorgen dat de naam uniek is:</p>

        <pre><code class="language-php">
namespace Database\Factories;

use Illuminate\Database\Eloquent\Factories\Factory;

class CategoryFactory extends Factory
{
    public function definition(): array
    {
        // Voeg de auto-provider toe aan Faker
        $this->faker->addProvider(new \Faker\Provider\Fakecar($this->faker));

        return [
            // unique() zorgt voor unieke namen, vehicleBrand komt uit de package
            "name" => $this->faker->unique()->vehicleBrand,

            // Optioneel: Specifieke datums genereren
            "created_at" => $this->faker->dateTimeThisDecade(),
            "updated_at" => $this->faker->dateTimeThisDecade(),
        ];
    }
}
        </code></pre>

        <h3 id="model-koppeling">Model Koppeling</h3>
        <p>Om de factory te kunnen gebruiken, moet de Model de <code>HasFactory</code> trait gebruiken. Voeg dit toe aan <code>app/Models/Category.php</code>:</p>

        <pre><code class="language-php">
use Illuminate\Database\Eloquent\Factories\HasFactory;

class Category extends Model
{
    use HasFactory;
    // ...
}
        </code></pre>

        <h2 id="seeder">Seeder Aanmaken</h2>
        <p>Nu we weten <em>hoe</em> een categorie eruit ziet, maken we een Seeder om te bepalen <em>hoeveel</em> we er willen. Conventie: Tabelnaam + Seeder.</p>

        <pre><code class="language-bash">php artisan make:seeder CategorySeeder</code></pre>

        <p>In <code>database/seeders/CategorySeeder.php</code> gebruiken we de factory om bijvoorbeeld 25 categorieÃ«n aan te maken:</p>

        <pre><code class="language-php">
namespace Database\Seeders;

use App\Models\Category; // Vergeet de import niet!
use Illuminate\Database\Seeder;

class CategorySeeder extends Seeder
{
    public function run(): void
    {
        // Maak 25 categorieÃ«n en sla ze op in de database
        Category::factory()->times(25)->create();
    }
}
        </code></pre>

        <h2 id="uitvoeren">Database Vullen</h2>
        <p>Om alle seeders makkelijk uit te voeren, registreren we ze in de centrale <code>DatabaseSeeder.php</code>:</p>

        <pre><code class="language-php">
// database/seeders/DatabaseSeeder.php
public function run(): void
{
    $this->call([
        CategorySeeder::class,
        // Hier komen later ProductSeeder, etc.
    ]);
}
        </code></pre>

        <p>Nu voer je het commando uit om de database te vullen:</p>
        <pre><code class="language-bash">php artisan db:seed</code></pre>
        <p>Of als je de database vers wilt opbouwen inclusief data:</p>
        <pre><code class="language-bash">php artisan migrate:fresh --seed</code></pre>

    </main>

    <aside class="sidebar-right">
        <div class="toc-container">
            <h4>Inhoud</h4>
            <ul id="toc-list" class="toc-list">
            </ul>
        </div>
    </aside>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../../script.js"></script>
</body>
</html>