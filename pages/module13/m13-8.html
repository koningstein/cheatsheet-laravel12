<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Static Analysis & Debugging - Quality Assurance - Laravel 12</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="../../script.js" defer></script>
</head>
<body>
<div class="top-bar"><div class="top-bar-content"><div class="nav-group"><a href="../module12/m12-7.html">« Services & Features</a></div><div class="nav-group theme-switcher"><select id="theme-switcher"><option value="blue">Blauw</option></select></div></div></div>

<div class="container">
    <div class="header-nav-block">
        <header>
            <h1>Quality Assurance</h1>
            <p>Codekwaliteit, testen met PHPUnit, Pest & Dusk, en debugging.</p>
        </header>
        <nav>
            <ul>
                <li><a href="m13-1.html">Introductie & PHPUnit</a></li>
                <li><a href="m13-2.html">Unit vs Feature Tests</a></li>
                <li><a href="m13-3.html">Introductie Pest</a></li>
                <li><a href="m13-4.html">Unit & Feature Tests (Pest)</a></li>
                <li><a href="m13-5.html">Database Testing & Seeding</a></li>
                <li><a href="m13-6.html">Mocking & Spies</a></li>
                <li><a href="m13-7.html">Browser Testing (Dusk)</a></li>
                <li><a href="m13-8.html" class="active">Static Analysis & Debugging</a></li>
            </ul>
        </nav>
    </div>

    <main>
        <h2>Tools voor Kwaliteit en Debugging</h2>
        <p>Je hebt nu geleerd hoe je code test om te bewijzen dat het <em>werkt</em>. Maar is je code ook <em>netjes</em>? En bevat het geen verborgen typefouten die pas crashen in productie? Hiervoor gebruiken we Static Analysis tools. Daarnaast kijken we naar Telescope, de ultieme debugger voor als je er met <code>dd()</code> niet meer uitkomt.</p>

        <h3>1. Laravel Pint (Code Style)</h3>
        <p>Niets is vervelender in een team dan discussies over waar de accolades moeten staan of hoeveel spaties er gebruikt moeten worden. <strong>Laravel Pint</strong> lost dit op. Het is een tool die je code automatisch formatteert volgens de PHP-standaarden (PSR-12), zonder dat je iets hoeft te configureren.</p>

        <p>Gebruik het volgende commando om al je bestanden in één keer netjes te maken:</p>
        <div class="note-box">Terminal</div>
        <pre><code class="language-bash">./vendor/bin/pint</code></pre>

        <p>Je zult zien dat Pint bestanden aanpast ("FIXED"). Het is slim om dit te draaien vlak voordat je je code commit naar Git.</p>

        <h3>2. Larastan (Static Analysis)</h3>
        <p><strong>Larastan</strong> is een wrapper om PHPStan, speciaal voor Laravel. Het voert "Statische Analyse" uit. Dit betekent dat het je code leest en begrijpt <em>zonder</em> het uit te voeren. Het zoekt naar logische fouten die je tests misschien missen.</p>
        <p>Het vindt bijvoorbeeld:</p>
        <ul>
            <li>Het aanroepen van methodes die niet bestaan.</li>
            <li>Het doorgeven van een <code>string</code> aan een functie die een <code>integer</code> verwacht.</li>
            <li>Variabelen die mogelijk <code>null</code> zijn, maar waar je geen check voor hebt geschreven.</li>
        </ul>

        <div class="note-box">Terminal</div>
        <pre><code class="language-bash">./vendor/bin/phpstan analyse</code></pre>
        <p>Als PHPStan groen licht geeft ("No errors found!"), heb je een hele klasse bugs geëlimineerd nog voordat de code live gaat.</p>

        <h3>3. Laravel Telescope (Debugging)</h3>
        <p>Als er tijdens het ontwikkelen iets misgaat, gebruik je vaak <code>dd()</code> (dump and die). Maar voor complexe bugs, zoals een job die op de achtergrond faalt of een mail die er raar uitziet, is <strong>Laravel Telescope</strong> onmisbaar.</p>
        <p>Telescope is een lokaal dashboard dat functioneert als een "zwarte doos" recorder voor je applicatie. Het logt alles.</p>

        <h3>Installatie</h3>
        <p>Omdat Telescope een ontwikkeltool is, installeren we het met de <code>--dev</code> vlag.</p>
        <div class="note-box">Terminal</div>
        <pre><code class="language-bash">
composer require laravel/telescope --dev
php artisan telescope:install
php artisan migrate
        </code></pre>

        <h3>Gebruik</h3>
        <p>Ga naar <code>/telescope</code> in je browser. Je ziet hier tabbladen voor:</p>
        <ul>
            <li><strong>HTTP Requests:</strong> Bekijk headers, payloads en sessie-data van elk verzoek.</li>
            <li><strong>Queries:</strong> Zie exact welke SQL queries worden uitgevoerd en hoe traag ze zijn.</li>
            <li><strong>Mail:</strong> Bekijk verzonden e-mails direct in de browser (zonder Mailtrap).</li>
            <li><strong>Exceptions:</strong> Zie de volledige stack trace van fouten.</li>
        </ul>
    </main>
</div>
<footer><div class="footer-content"><p>&copy; 2025 Techniek College Rotterdam</p></div></footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>